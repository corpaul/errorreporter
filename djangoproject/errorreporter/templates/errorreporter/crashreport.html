{% if crashreports_aggr %}
	{% for c in crashreports_aggr %}
		<table class="crashreport_aggr">
		<tr>
        <th>Aggregate stacktrace (# of reports: {{ c.cnt }})  
        	<a href="/errorreporter/graph_stack_occurrences/{{ c.id }}" target="_blank">View occurrences over time</a></th>
        </tr>
        <tr>
        <td>{{ c.stack|linebreaks  }}</td>
       	</tr>
       	<tr>
        <th>Comments</th>
        </tr>
        <tr>
        <td>
       		<ol>
       		{% for stack, comm in compact_comments.items %}
       			{% ifequal c.stack stack %}
        			{% for comment, ids in comm.items %}
        				<li> {{ comment }} 
        				{% for id in ids %}
        					(<a href="#{{ id }}">#{{ id }}</a>)
        				{% endfor %}
        				<br>
        			{% endfor %}        			
        		{% endifequal %}
        	{% endfor %}
        	</ol>
        </td>
       	</tr>

       	</table>
	{% endfor %}

{% endif %}

<hr>


{% if crashreports %}
	{% for c in crashreports %}
		<h3><a name="{{ c.id }}">Stack #{{ c.id }}</a> <a href="#top">Back to top</a></h3>
    	<table border="1" class="crashreport">
		<tr>
        <th>Tribler version</th>
        <td>{{ c.version }}</td>
       	</tr>
       	<tr>
        <th>Date</th>
        <td>{{ c.date }}</td>
       	</tr>
       	<tr>
        <th>Stack</th>
        <td>{{ c.stack|linebreaks  }}</td>
       	</tr>
       	<th>Comments</th>
        <td>{{ c.comments|linebreaks  }}</td>
       	</tr>
       	<tr>
        <th>Sysinfo</th>
        <td>{{ c.sysinfo|linebreaks }}</td>
       	</tr>
       	<tr>               	
       	</table>
	{% endfor %}

{% endif %}